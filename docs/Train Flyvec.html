---

title: Training FlyVec


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/03_Train Flyvec.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_Train Flyvec.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="First-compile-the-code">First compile the code<a class="anchor-link" href="#First-compile-the-code"> </a></h2><p>The training code is distributed as c++ files. Let's first ensure it can compile to your system</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="init" class="doc_header"><code>init</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/train_flyvec.py#L25" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>init</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="main" class="doc_header"><code>main</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/train_flyvec.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>main</code>(<strong><code>encodings_source</code></strong>:"Path to the tokens encoded as an ID. (eltype should be np.int32)", <strong><code>offsets_source</code></strong>:"Path to the offsets array indicating where each value of the array indicates where a chunk of text should start. (eltype should be np.uint64, first value should be 0)", <strong><code>output_dir</code></strong>:"Directory in which to save the checkpoints. Created if it does not exist"=<em><code>'.'</code></em>, <strong><code>save_every</code></strong>:"How many epochs to run before saving a checkpoint"=<em><code>1</code></em>, <strong><code>ckpt_prefix</code></strong>:"Prefix to name each checkpoint. Additional parameter choices are inserted into the checkpoint name."=<em><code>'flyvec_model'</code></em>, <strong><code>starting_checkpoint</code></strong>:"Path to .npy file of saved checkpoint"=<em><code>None</code></em>, <strong><code>W</code></strong>:"Size of the W-gram sliding window used to train the word vectors"=<em><code>11</code></em>, <strong><code>hid</code></strong>:"Number of hidden units (neurons). Do not change"=<em><code>400</code></em>, <strong><code>initial_learning_rate</code></strong>:"Initial learning rate"=<em><code>0.002</code></em>, <strong><code>delta</code></strong>:"From equation"=<em><code>0.0</code></em>, <strong><code>mu</code></strong>:"If no checkpoint provided, use this as mean for random normal initialization of synapses"=<em><code>0.0</code></em>, <strong><code>sigma</code></strong>:"If no checkpoint provided, use this as stdev for random normal initialization of synapses"=<em><code>0.02</code></em>, <strong><code>Nep</code></strong>:"Maximum number of epochs, fewer if starting from a checkpoint"=<em><code>15</code></em>, <strong><code>batch_size</code></strong>:"Minibatch size"=<em><code>10000</code></em>, <strong><code>prec</code></strong>:"Precision, avoid dividing by 0"=<em><code>1e-30</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

