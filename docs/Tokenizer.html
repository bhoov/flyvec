---

title: Tokenizer


keywords: fastai
sidebar: home_sidebar

summary: "A simple tokenizer for concepts using Gensim"
description: "A simple tokenizer for concepts using Gensim"
nb_path: "nbs/01_Tokenizer.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_Tokenizer.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preprocessing-functions">Preprocessing functions<a class="anchor-link" href="#Preprocessing-functions"> </a></h2><p>We want tokens to deal with simple concepts, so we will enforce lowercase ASCII and predominantly split on spaces.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our tokenization will work with "lines" -- that is, a sequence of text that can contain multiple sentences, paragraphs, and newlines. For cohesiveness, we want to split these to the sentence and word level.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Various prior work has demonstrated 100 weaknesses in these models — even highly accurate ones — including reliance on non-salient regions </span>
<span class="s2"> or on background information only. Explanation methods help identify these pitfalls by providing explanations for model predictions, enabling humans to identify the features on which a model decision is based. However, these methods provide explanations on the image level making it challenging to understand global model behavior or dataset limitations.&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We first need to check that the line contains actual content and is not a binary string acting as an identifier in most files.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_good_line</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check if the line is valid&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\x00</span><span class="s2">&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">is_good_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">is_good_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">is_good_line</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\x00\x00</span><span class="s2">33-thegreatdivide.txt</span><span class="se">\x00</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">is_good_line</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Split a text by sentence according to the following regex pattern</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="line2sentences" class="doc_header"><code>line2sentences</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L24" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>line2sentences</code>(<strong><code>line</code></strong>)</p>
</blockquote>
<p>Convert a line into sentences,</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="n">line2sentences</span><span class="p">(</span><span class="n">line</span><span class="p">);</span> <span class="n">sentences</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;various prior work has demonstrated 100 weaknesses in these models — even highly accurate ones — including reliance on non-salient regions   or on background information only.&#39;,
 &#39;explanation methods help identify these pitfalls by providing explanations for model predictions, enabling humans to identify the features on which a model decision is based.&#39;,
 &#39;however, these methods provide explanations on the image level making it challenging to understand global model behavior or dataset limitations.&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Once we have a sentence, we want to strip all punctuation and unicode</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="isascii" class="doc_header"><code>isascii</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>isascii</code>(<strong><code>s</code></strong>:<code>str</code>)</p>
</blockquote>
<p>Determine if <code>s</code> is an entirely ascii string. Used for back-compatibility with python&lt;3.7</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">isascii</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">isascii</span><span class="p">(</span><span class="s2">&quot;Ĉ&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">isascii</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="strip_punc_unicode" class="doc_header"><code>strip_punc_unicode</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L39" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>strip_punc_unicode</code>(<strong><code>line</code></strong>)</p>
</blockquote>
<p>Strip all punctuation and unicode from the line</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">proc_sentences</span> <span class="o">=</span> <span class="p">[</span><span class="n">strip_punc_unicode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">];</span> <span class="n">proc_sentences</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;various prior work has demonstrated 100 weaknesses in these models  even highly accurate ones  including reliance on nonsalient regions   or on background information only&#39;,
 &#39;explanation methods help identify these pitfalls by providing explanations for model predictions enabling humans to identify the features on which a model decision is based&#39;,
 &#39;however these methods provide explanations on the image level making it challenging to understand global model behavior or dataset limitations&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And remove all instances where there are multiple spaces</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_multiple_spaces" class="doc_header"><code>remove_multiple_spaces</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L48" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_multiple_spaces</code>(<strong><code>sentence</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">proc_sentences</span> <span class="o">=</span> <span class="p">[</span><span class="n">remove_multiple_spaces</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">proc_sentences</span><span class="p">];</span> <span class="n">proc_sentences</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;various prior work has demonstrated 100 weaknesses in these models even highly accurate ones including reliance on nonsalient regions or on background information only&#39;,
 &#39;explanation methods help identify these pitfalls by providing explanations for model predictions enabling humans to identify the features on which a model decision is based&#39;,
 &#39;however these methods provide explanations on the image level making it challenging to understand global model behavior or dataset limitations&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Before we have our tokens, we will define the concept of 'number' as any ASCII token that contains a digit</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="isnum" class="doc_header"><code>isnum</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L52" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>isnum</code>(<strong><code>token</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Compiling all these steps into a single function</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="process_line" class="doc_header"><code>process_line</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>process_line</code>(<strong><code>line</code></strong>)</p>
</blockquote>
<p>Compose all transformations to process a line into tokens as desired</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tokens</span> <span class="o">=</span> <span class="n">process_line</span><span class="p">(</span><span class="n">line</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;various&#39;, &#39;prior&#39;, &#39;work&#39;, &#39;has&#39;, &#39;demonstrated&#39;, &#39;&lt;NUM&gt;&#39;, &#39;weaknesses&#39;, &#39;in&#39;, &#39;these&#39;, &#39;models&#39;, &#39;even&#39;, &#39;highly&#39;, &#39;accurate&#39;, &#39;ones&#39;, &#39;including&#39;, &#39;reliance&#39;, &#39;on&#39;, &#39;nonsalient&#39;, &#39;regions&#39;, &#39;or&#39;, &#39;on&#39;, &#39;background&#39;, &#39;information&#39;, &#39;only&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">process_tok</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">num_tok</span><span class="o">=</span><span class="s2">&quot;xxNUMxx&quot;</span><span class="p">,</span> <span class="n">stop_tok</span><span class="o">=</span><span class="s2">&quot;xxSTOPxx&quot;</span><span class="p">,</span> <span class="n">stopwords</span><span class="o">=</span><span class="p">[]):</span>
    <span class="sd">&quot;&quot;&quot;Process a token by replacing numbers and stop tokens with the desired special tokens&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">isnum</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">num_tok</span>
    <span class="k">elif</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stop_tok</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">process_tok</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">process_tok</span><span class="p">(</span><span class="s2">&quot;abc88&quot;</span><span class="p">),</span> <span class="s2">&quot;xxNUMxx&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">process_tok</span><span class="p">(</span><span class="s2">&quot;993&quot;</span><span class="p">),</span> <span class="s2">&quot;xxNUMxx&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">process_tok</span><span class="p">(</span><span class="s2">&quot;the&quot;</span><span class="p">,</span> <span class="n">stopwords</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;the&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;but&quot;</span><span class="p">]),</span> <span class="s2">&quot;xxSTOPxx&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">process_tok</span><span class="p">(</span><span class="s2">&quot;   lotsofspace &quot;</span><span class="p">),</span> <span class="s2">&quot;lotsofspace&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[</span><span class="n">process_tok</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">stopwords</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;the&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;on&quot;</span><span class="p">,</span> <span class="s2">&quot;or&quot;</span><span class="p">,</span> <span class="s2">&quot;has&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;various&#39;,
 &#39;prior&#39;,
 &#39;work&#39;,
 &#39;xxSTOPxx&#39;,
 &#39;demonstrated&#39;,
 &#39;&lt;NUM&gt;&#39;,
 &#39;weaknesses&#39;,
 &#39;xxSTOPxx&#39;,
 &#39;these&#39;,
 &#39;models&#39;,
 &#39;even&#39;,
 &#39;highly&#39;,
 &#39;accurate&#39;,
 &#39;ones&#39;,
 &#39;including&#39;,
 &#39;reliance&#39;,
 &#39;xxSTOPxx&#39;,
 &#39;nonsalient&#39;,
 &#39;regions&#39;,
 &#39;xxSTOPxx&#39;,
 &#39;xxSTOPxx&#39;,
 &#39;background&#39;,
 &#39;information&#39;,
 &#39;only&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now we can convert an entire file to tokens (naively loading everything into memory)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="file2tokens" class="doc_header"><code>file2tokens</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L70" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>file2tokens</code>(<strong><code>fname</code></strong>)</p>
</blockquote>
<p>Convert a file of text into tokenized sentences</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Tokenizer">The Tokenizer<a class="anchor-link" href="#The-Tokenizer"> </a></h1><blockquote><p>Collecting all the helper functions underneath a single class</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="GensimTokenizer" class="doc_header"><code>class</code> <code>GensimTokenizer</code><a href="https://github.com/bhoov/flyvec/tree/master/flyvec/tokenizer.py#L89" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>GensimTokenizer</code>(<strong><code>dictionary</code></strong>, <strong><code>phraser</code></strong>=<em><code>None</code></em>, <strong><code>patch_dict</code></strong>=<em><code>{'&lt;UNK&gt;': 0, '&lt;NUM&gt;': 1}</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <a href="/flyvec/Tokenizer.html#GensimTokenizer"><code>GensimTokenizer</code></a> is a simple wrapper around gensim's <code>Dictionary</code> and <code>Phraser</code> classes that aligns them with our simple tokenization rules. Assuming you have a saved Gensim tokenization, you can use the model as follows:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vocab</span> <span class="o">=</span> <span class="n">get_model_dir</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;tokenizer/gensim1_patched.dict&quot;</span>
<span class="n">tok</span> <span class="o">=</span> <span class="n">GensimTokenizer</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">vocab</span><span class="p">)</span>
<span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;pie&quot;</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="s2">&quot;delicious&quot;</span><span class="p">]</span>
<span class="n">ids</span> <span class="o">=</span> <span class="n">tok</span><span class="o">.</span><span class="n">tokens2ids</span><span class="p">(</span><span class="n">tokens</span><span class="p">);</span> <span class="n">ids</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[2563, 17862, 17, 8073]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tok</span><span class="o">.</span><span class="n">ids2tokens</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;apple&#39;, &#39;pie&#39;, &#39;is&#39;, &#39;delicious&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

